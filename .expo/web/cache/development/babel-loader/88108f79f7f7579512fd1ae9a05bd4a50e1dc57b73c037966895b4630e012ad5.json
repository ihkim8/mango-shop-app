{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport { API_URL } from \"../config/constants\";\nimport axios from \"axios\";\nimport { Form, Input, Button, Upload, Divider, InputNumber, Descriptions } from \"antd\";\nimport \"./UploadPage.css\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar TextArea = Input.TextArea;\nvar UploadPage = function UploadPage() {\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    imageUrl = _useState2[0],\n    setImageUrl = _useState2[1];\n  var onFinish = function onFinish(val) {\n    console.log(val);\n    axios.post(API_URL + \"/products\", {\n      name: val.name,\n      description: val.description,\n      price: val.price,\n      seller: val.seller\n    }).then().catch();\n  };\n  var onChangeImage = function onChangeImage(info) {\n    if (info.file.status === \"uploading\") {\n      return;\n    }\n    if (info.file.status === \"done\") {\n      var response = info.file.response;\n      var _imageUrl = response.imageUrl;\n      setImageUrl(_imageUrl);\n    }\n  };\n  return _jsx(\"div\", {\n    id: \"upload-container\",\n    children: _jsxs(Form, {\n      name: \"uploadForm\",\n      onFinish: onFinish,\n      children: [_jsx(Form.Item, {\n        name: \"upload\",\n        children: _jsx(Upload, {\n          name: \"image\",\n          action: API_URL + \"/image\",\n          listType: \"picture\",\n          showUploadList: false,\n          onChange: onChangeImage,\n          children: imageUrl ? _jsx(\"img\", {\n            id: \"upload-img\",\n            src: API_URL + \"/\" + imageUrl,\n            alt: \"\"\n          }) : _jsxs(\"div\", {\n            id: \"upload-img-placeholder\",\n            children: [_jsx(\"img\", {\n              src: \"/images/icons/camera.png\",\n              alt: \"\"\n            }), _jsx(\"span\", {\n              children: \"\\uC774\\uBBF8\\uC9C0\\uB97C \\uC5C5\\uB85C\\uB4DC \\uD574\\uC8FC\\uC138\\uC694\"\n            })]\n          })\n        })\n      }), _jsx(Divider, {}), _jsx(Form.Item, {\n        label: _jsx(\"span\", {\n          className: \"upload-label\",\n          children: \"\\uD310\\uB9E4\\uC790\\uBA85\"\n        }),\n        name: \"seller\",\n        rules: [{\n          required: true,\n          message: \"판매자명은 필수 입력 사항입니다.\"\n        }],\n        children: _jsx(Input, {\n          className: \"upload-name\",\n          placeholder: \"\\uC0C1\\uD488\\uBA85\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n          size: \"large\"\n        })\n      }), _jsx(Form.Item, {\n        label: _jsx(\"span\", {\n          className: \"upload-label\",\n          children: \"\\uC0C1\\uD488\\uBA85\"\n        }),\n        name: \"name\",\n        rules: [{\n          required: true,\n          message: \"상품명은 필수 입력 사항입니다.\"\n        }],\n        children: _jsx(Input, {\n          className: \"upload-name\",\n          placeholder: \"\\uC0C1\\uD488\\uBA85\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n          size: \"large\"\n        })\n      }), _jsx(Divider, {}), _jsx(Form.Item, {\n        label: _jsx(\"span\", {\n          className: \"upload-price\",\n          children: \"\\uD310\\uB9E4\\uAC00\"\n        }),\n        name: \"price\",\n        rules: [{\n          required: true,\n          message: \"판매가는 필수 입력 사항입니다.\"\n        }],\n        children: _jsx(InputNumber, {\n          className: \"upload-price\",\n          size: \"large\",\n          min: 0,\n          defaultValue: 0\n        })\n      }), _jsx(Divider, {}), _jsx(Form.Item, {\n        label: _jsx(\"span\", {\n          className: \"upload-label\",\n          children: \"\\uC0C1\\uD488\\uC124\\uBA85\"\n        }),\n        name: \"description\",\n        rules: [{\n          required: true,\n          message: \"상품설명은 필수 입력 사항입니다.\"\n        }],\n        children: _jsx(TextArea, {\n          size: \"large\",\n          id: \"product-description\",\n          showCount: true,\n          maxLength: 300,\n          placeholder: \"\\uC0C1\\uD488\\uC124\\uBA85\\uC744 \\uC791\\uC131\\uD574\\uC8FC\\uC138\\uC694\"\n        })\n      }), _jsx(Form.Item, {\n        children: _jsx(Button, {\n          id: \"submit-button\",\n          htmlType: \"submit\",\n          children: \"\\uC0C1\\uD488\\uB4F1\\uB85D\\uD558\\uAE30\"\n        })\n      })]\n    })\n  });\n};\nexport default UploadPage;","map":{"version":3,"names":["React","useEffect","useState","API_URL","axios","Form","Input","Button","Upload","Divider","InputNumber","Descriptions","jsx","_jsx","jsxs","_jsxs","TextArea","UploadPage","_useState","_useState2","_slicedToArray","imageUrl","setImageUrl","onFinish","val","console","log","post","name","description","price","seller","then","catch","onChangeImage","info","file","status","response","id","children","Item","action","listType","showUploadList","onChange","src","alt","label","className","rules","required","message","placeholder","size","min","defaultValue","showCount","maxLength","htmlType"],"sources":["D:/frontend/mango-shop-app-0421/mango-shop-app/src/components/UploadPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {API_URL} from \"../config/constants\";\r\nimport axios from \"axios\";\r\nimport { Form, Input, Button, Upload, Divider, InputNumber, Descriptions } from \"antd\";\r\nimport \"./UploadPage.css\";\r\nconst { TextArea } = Input;\r\nconst UploadPage = () => {\r\n\tconst [imageUrl, setImageUrl]=useState(null);\r\n\tconst onFinish = (val) => {\r\n\t\tconsole.log(val);\r\n\t\t\r\n\t\taxios.post(`${API_URL}/products`, {\r\n\t\t\tname: val.name,\r\n\t\t\tdescription: val.description,\r\n\t\t\tprice: val.price,\r\n\t\t\tseller: val.seller,\r\n\r\n\t\t}).then().catch();\r\n\t\t\r\n\r\n\t};\r\n\tconst onChangeImage = (info) => {\r\n\t\tif (info.file.status===\"uploading\"){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(info.file.status===\"done\"){\r\n\t\t\tconst response=info.file.response;\r\n\t\t\tconst imageUrl=response.imageUrl;\r\n\t\t\tsetImageUrl(imageUrl)\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div id=\"upload-container\">\r\n\t\t\t<Form name=\"uploadForm\" onFinish={onFinish}>\r\n\t\t\t\t<Form.Item name=\"upload\">\r\n\t\t\t\t\t<Upload name=\"image\" action={`${API_URL}/image`} listType=\"picture\" showUploadList={false} onChange={onChangeImage}>\r\n\t\t\t\t\t\r\n\t\t\t\t\t{imageUrl ? (\r\n\t\t\t\t\t\t<img id=\"upload-img\" src={`${API_URL}/${imageUrl}`} alt=\"\" />\r\n\t\t\t\t\t):(\r\n\t\t\t\t\t\t<div id=\"upload-img-placeholder\">\r\n\t\t\t\t\t\t\t<img src=\"/images/icons/camera.png\" alt=\"\" />\r\n\t\t\t\t\t\t\t<span>이미지를 업로드 해주세요</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\r\n\r\n\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Divider></Divider>\r\n\t\t\t\t<Form.Item label={<span className=\"upload-label\">판매자명</span>} name=\"seller\" rules={[{ required: true, message: \"판매자명은 필수 입력 사항입니다.\" }]}>\r\n\t\t\t\t\t<Input className=\"upload-name\" placeholder=\"상품명을 입력해주세요\" size=\"large\" />\r\n\t\t\t\t</Form.Item>\r\n\r\n\r\n\t\t\t\t<Form.Item label={<span className=\"upload-label\">상품명</span>} name=\"name\" rules={[{ required: true, message: \"상품명은 필수 입력 사항입니다.\" }]}>\r\n\t\t\t\t\t<Input className=\"upload-name\" placeholder=\"상품명을 입력해주세요\" size=\"large\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Divider></Divider>\r\n\t\t\t\t<Form.Item label={<span className=\"upload-price\">판매가</span>} name=\"price\" rules={[{ required: true, message: \"판매가는 필수 입력 사항입니다.\" }]}>\r\n\t\t\t\t\t<InputNumber className=\"upload-price\" size=\"large\" min={0} defaultValue={0} />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Divider></Divider>\r\n\t\t\t\t<Form.Item label={<span className=\"upload-label\">상품설명</span>} name=\"description\" rules={[{ required: true, message: \"상품설명은 필수 입력 사항입니다.\" }]}>\r\n\t\t\t\t\t<TextArea size=\"large\" id=\"product-description\" showCount maxLength={300} placeholder=\"상품설명을 작성해주세요\"></TextArea>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item>\r\n\t\t\t\t\t<Button id=\"submit-button\" htmlType=\"submit\">\r\n\t\t\t\t\t\t상품등록하기\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n};\r\nexport default UploadPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}